<!DOCTYPE html>
<html>
<head>
  <title>Authentiq Connect, redirecting...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <script src="/js/authentiq.js" 
          class="authentiq-snippet"
          data-client-id="test-js-snippet"></script>

  <script>
    authentiq.subscribe('authorized:access_token', function(token) {
      if(typeof token.expires_in !== 'undefined') {
        var expires_at = new Date();

        // 60 seconds less to secure browser and response latency
        expires_at.setSeconds(expires_at.getSeconds() + parseInt(token.expires_in) - 60);
        
        token.expires_at = expires_at;
      }

      // store the access_token in localStorage
      localStorage['ngStorage-authentiq.access_token'] = token;
    });
  </script>
</head>
<body>
  <div class="progress">
    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
  </div>

  <h2>Redirecting, please wait.</h2>
</body>
</html>