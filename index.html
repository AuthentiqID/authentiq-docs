<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Documentation for the Authentiq OAuth 2.0 and OpenID Connect Provider.">
        <meta name="author" content="The Authentiq team">
        
        <link rel="shortcut icon" href="images/app-icon-hexagon.png">
        

        <title>Authentiq Connect</title>

        <link href="./css/bootstrap.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">
        <link href="./css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="./js/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap.min.js"></script>
        <script src="./js/authentiq-oauth.js"></script>

        

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href=".">Authentiq Connect</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="active">
                    <a href=".">Overview</a>
                </li>
            
            
            
                <li >
                    <a href="integration/">Integration</a>
                </li>
            
            
            
                <li >
                    <a href="installation/">Installation</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">API Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="api-provider/">Connect</a>
                        </li>
                    
                        <li >
                            <a href="api-issuer/">Issuer</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="clients/">Your clients</a>
                </li>
            
            
            
                <li >
                    <a href="faq/">FAQ</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li style="background-color:#895fc0;">
                    <a class="authentiq-oauth-button"
                        data-response-type="id_token token"
                        data-redirect-uri="http://authentiqid.github.io/authentiq-docs/clients/"
                        data-client-id="fe1303fc-9b59-4661-b156-daa98da968b8"
                        data-scope="email~rs aq:name aq:push userinfo openid"
                        data-sign-in-text="Sign in"
                        data-sign-out-text="Sign out">

                        Authentiq...
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#introduction">Introduction</a></li>
        
            <li><a href="#why-authentiq">Why Authentiq?</a></li>
        
    
        <li class="main "><a href="#concepts">Concepts</a></li>
        
            <li><a href="#scopes">Scopes</a></li>
        
            <li><a href="#errors">Errors</a></li>
        
            <li><a href="#terminology">Terminology</a></li>
        
    
        <li class="main "><a href="#support">Support</a></li>
        
            <li><a href="#email">Email</a></li>
        
            <li><a href="#chat">Chat</a></li>
        
            <li><a href="#issues">Issues</a></li>
        
    
    </ul>
</div></div>
                <div id="main" class="col-md-9" role="main">

<h1 id="introduction">Introduction</h1>
<p>If you are reading this you&rsquo;re probably curious how to implement <a href="http://authentiq.com/">Authentiq</a> on your website. </p>
<p>The easiest way to get started is by including our <a href="integration/#native-sdk">JavaScript snippet</a> on your page. Alternatively you can <a href="integration/#third-party">point</a> your favourite OAuth 2.0 or OpenID Connect client library at Authentiq.</p>
<p>As we run Authentiq Connect as a Service, there is no need to install or run anything locally.</p>
<p class="alert alert-success" role="alert">Soon you will also be able to <a class="alert-link" href="installation/">install the Authentiq Connect daemon locally</a>, from source, or using pre-built packages for Debian 7.0, 8.0 and Ubuntu 15.04.</p>
<h2 id="why-authentiq">Why Authentiq?</h2>
<p>Why should I do this and what&rsquo;s so cool about the Authentiq technology again? In short,</p>
<ul>
<li>Authentiq is based on standards like OAuth 2.0 and OpenID Connect.</li>
<li>Authentiq provides secure multi-factor authentication.</li>
<li>Authentiq lets your end-users control their identity from their phone.</li>
<li>Authentiq provides your site with fresh contact details every time a user signs in.</li>
<li>Authentiq aims to avoid being a single point of failure for your product.</li>
<li>Authentiq aims to avoid being another point of trust for your users.</li>
<li>Authentiq aims to be reasonably priced, or free.</li>
<li>Authentiq aims to minimize logging of (meta)data.</li>
</ul>
<h1 id="concepts">Concepts</h1>
<p>This section explains general concepts relating to Authentiq Connect.</p>
<h2 id="scopes">Scopes</h2>
<p>Authentiq Connect leverages OAuth 2.0 scopes to specify what sections of a user&rsquo;s profile are being requested, inheriting <a href="http://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims">scopes from OIDC</a> where possible; and prefixing additional scopes with <code>aq:</code>.</p>
<h3 id="identity-claims">Identity claims</h3>
<p>Using scopes, a client application can request the following identity claims from a user.</p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Description</th>
<th>Claims</th>
<th>Can be marked required?</th>
<th>Can be signed?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>email</code></td>
<td>A user&rsquo;s (verified) email address.</td>
<td><code>email</code>, <code>email_verified</code></td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>phone</code></td>
<td>A user&rsquo;s (verified) phone number.</td>
<td><code>phone_number</code>, <code>phone_number_verified</code></td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>address</code></td>
<td>A user&rsquo;s home address.</td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AddressClaim"><code>address</code></a></td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td><code>aq:name</code></td>
<td>A user&rsquo;s full name.</td>
<td><code>name</code>, <code>given_name</code>, <code>family_name</code>, <code>middle_name</code>, <code>nickname</code></td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td><code>aq:location</code></td>
<td>A user&rsquo;s current location.</td>
<td><code>aq:location</code></td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>Following OIDC, scopes are <em>optional</em> by default, leaving the choice of providing any of the details to the end-user, who will be able to opt out of the requested scopes on the Authentiq ID consent screen. The client application is then responsible to deal with the missing information.</p>
<p>Alternatively, Authentiq allows you to mark certain scopes as <em>required</em> and/or <em>requiring a signature</em> from a trusted issuer. </p>
<h4 id="required-claims">Required claims</h4>
<p>Identity scopes can be marked as being <em>required</em> by appending <code>~r</code> to the scope label, for instance <code>email~r</code> or <code>aq:name~r</code>. Doing so will prevent a user from opting out of the section when signing in from the Authentiq ID mobile app. We recommend using this flag sparingly and instead letting users opt-in to the information they share with you.  </p>
<h4 id="signed-claims">Signed claims</h4>
<p>Scopes can also be marked to <em>require a signature</em> from an externally trusted party. In fact, Authentiq is acting as a signature provider for the email and phone scopes, handling the confirmation of email addresses and phone number using a one-time verification code sent by email or text message.</p>
<p class="alert alert-success" role="alert">Developers will be able to register their own signature providers soon. </p>
<h3 id="functional-scopes">Functional scopes</h3>
<p>Authentiq Connect also uses scopes to indicate functional preferences. </p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>aq:push</code></td>
<td>Whether or not to offer <em>One click sign-in</em> to the user.</td>
</tr>
</tbody>
</table>
<h2 id="errors">Errors</h2>
<p>When something goes wrong, Authentiq Connect redirects back to the client application as stipulated by OAuth 2.0, so that the error can be handled in the domain and using the UX of the client application. The Authentiq Connect SDK emits these errors in turn as an <code>aq:error</code> event. </p>
<table>
<thead>
<tr>
<th>Error</th>
<th>Origin</th>
<th>Resource</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>interaction_required</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The Authorization Server requires End-User interaction of some form to proceed. This error MAY be returned when the prompt parameter value in the Authentication Request is none, but the Authentication Request cannot be completed without displaying a user interface for End-User interaction.</td>
</tr>
<tr>
<td><code>login_required</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The Authorization Server requires End-User authentication. This error MAY be returned when the prompt parameter value in the Authentication Request is none, but the Authentication Request cannot be completed without displaying a user interface for End-User authentication.</td>
</tr>
<tr>
<td><code>account_selection_required</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The End-User is REQUIRED to select a session at the Authorization Server. The End-User MAY be authenticated at the Authorization Server with different associated accounts, but the End-User did not select a session. This error MAY be returned when the prompt parameter value in the Authentication Request is none, but the Authentication Request cannot be completed without displaying a user interface to prompt for a session to use.</td>
</tr>
<tr>
<td><code>consent_required</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The Authorization Server requires End-User consent. This error MAY be returned when the prompt parameter value in the Authentication Request is none, but the Authentication Request cannot be completed without displaying a user interface for End-User consent.</td>
</tr>
<tr>
<td><code>invalid_request_uri</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The request_uri in the Authorization Request returns an error or contains invalid data.</td>
</tr>
<tr>
<td><code>invalid_request_object</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The request parameter contains an invalid Request Object.</td>
</tr>
<tr>
<td><code>request_not_supported</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The OP does not support use of the request parameter defined in Section 6.</td>
</tr>
<tr>
<td><code>request_uri_not_supported</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The OP does not support use of the request_uri parameter defined in Section 6.</td>
</tr>
<tr>
<td><code>registration_not_supported</code></td>
<td><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OIDC</a></td>
<td>Authorize</td>
<td>The OP does not support use of the registration parameter defined in Section 7.2.1.</td>
</tr>
<tr>
<td><code>invalid_request</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.</td>
</tr>
<tr>
<td><code>unauthorized_client</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The client is not authorized to request an authorization code using this method.</td>
</tr>
<tr>
<td><code>access_denied</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The resource owner or authorization server denied the request.</td>
</tr>
<tr>
<td><code>unsupported_response_type</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The authorization server does not support obtaining an authorization code using this method.</td>
</tr>
<tr>
<td><code>invalid_scope</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The requested scope is invalid, unknown, or malformed.</td>
</tr>
<tr>
<td><code>server_error</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The authorization server encountered an unexpected condition that prevented it from fulfilling the request.</td>
</tr>
<tr>
<td><code>temporarily_unavailable</code></td>
<td><a href="https://tools.ietf.org/html/rfc6749#section-5.2">OAuth2</a></td>
<td>Authorize, Token</td>
<td>The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server.</td>
</tr>
<tr>
<td><code>invalid_request</code></td>
<td><a href="http://tools.ietf.org/html/rfc6750#section-3.1">Bearer</a></td>
<td>UserInfo</td>
<td>The request is missing a required parameter, includes an unsupported parameter or parameter value, repeats the same parameter, uses more than one method for including an access token, or is otherwise malformed.  The resource server SHOULD respond with the HTTP 400 (Bad Request) status code.</td>
</tr>
<tr>
<td><code>invalid_token</code></td>
<td><a href="http://tools.ietf.org/html/rfc6750#section-3.1">Bearer</a></td>
<td>UserInfo</td>
<td>The access token provided is expired, revoked, malformed, or invalid for other reasons.  The resource SHOULD respond with the HTTP 401 (Unauthorized) status code.  The client MAY request a new access token and retry the protected resource request.</td>
</tr>
<tr>
<td><code>insufficient_scope</code></td>
<td><a href="http://tools.ietf.org/html/rfc6750#section-3.1">Bearer</a></td>
<td>UserInfo</td>
<td>The request requires higher privileges than provided by the access token.  The resource server SHOULD respond with the HTTP 403 (Forbidden) status code and MAY include the &ldquo;scope&rdquo; attribute with the scope necessary to access the protected resource.</td>
</tr>
</tbody>
</table>
<h2 id="terminology">Terminology</h2>
<p>Let&rsquo;s get over some terminology used in this documentation.</p>
<dl>
<dt>Authentiq Connect</dt>
<dd>The authentication protocol defined by Authentiq.</dd>
<dt>Authentiq Connect Provider</dt>
<dd>The actual daemon that serves the Authentiq Connect protocol, acting as a bridge between website and app. The provider is packaged as <code>authentiqd</code> in the context of SysV-style init scripts.</dd>
<dt>Authentiq Connect SDK</dt>
<dd>The combination of the hosted (or installable) Authentiq Connect Provider and client side JavaScript snippet.</dd>
<dt>Client or Relying Party</dt>
<dd>The client website or application that end-users authenticate to. Both Client and Relying Party are used interchangeably in the OpenID Connect specifications.</dd>
<dt>Certificate Authority List</dt>
<dd>A public list of signature authorities that allows a Relying Party to verify that a certain identity claim was signed by an active trusted party.</dd>
<dt>Certificate Revocation List</dt>
<dd>A public list of unique end-user and (hashed) device identifiers that can be used by a Relying Party to verify that a user is still active and their device hasn&rsquo;t been revoked. </dd>
</dl>
<h1 id="support">Support</h1>
<h2 id="email">Email</h2>
<p>Contact us via email at <a href="mailto:support@authentiq.io">support@authentiq.io</a>.</p>
<h2 id="chat">Chat</h2>
<p>Join the Authentiq team on IRC at <a href="irc://freenode.net/#authentiq">#authentiq@freenode.net</a>.</p>
<h2 id="issues">Issues</h2>
<p>Discuss bugs, issues and feature requests on our <a href="https://github.com/skion/authentiq-provider/issues">GitHub project page</a>.</p></div>
               
        </div>

        <hr>
        <footer class="col-md-12">
            <ul class="text-center list-inline">
                <li>
                  <iframe src="https://ghbtns.com/github-btn.html?user=AuthentiqID&amp;repo=bootstrap&amp;type=watch&amp;count=true" width="100" height="20" title="Star on GitHub" style="overflow: hidden; border: 0;"></iframe>
                </li>
                <li>
                  <a href="https://twitter.com/AuthentiqID" class="twitter-follow-button" data-link-color="#0069D6" data-show-count="true">Follow @AuthentiqID</a>
                </li>
                <li>
                  <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://developer.authentiq.io/" data-count="horizontal" data-via="AuthentiqID">Tweet</a>
                </li>
            </ul>

            
                <center>Copyright &copy; 2015, Authentiq.com</center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="./js/highlight.pack.js"></script>
        <script src="./js/base.js"></script>

        <script>
            window.twttr = (function (d,s,id) {
                var t, js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return; js=d.createElement(s); js.id=id; js.async=1;
                js.src="https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
                return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
            }(document, "script", "twitter-wjs"));
        </script>
    </body>
</html>