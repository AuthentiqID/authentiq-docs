/*!
 * Authentiq JS snippet v0.0.1
 *
 * Authentiq JS Snippet for adding a button in a website
 *
 *
 * @author Chris Ziogas
 * @website http://authentiq.io
 *
 * @copyright Authentiq 2015
 * @license under MIT (https://github.com/AuthentiqID/authentiq-oauth/blob/master/LICENSE)
 */

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function t(r){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof r?A(this,r):"string"==typeof r?T(this,r,arguments.length>1?arguments[1]:"utf8"):S(this,r)):arguments.length>1?new t(r,arguments[1]):new t(r)}function A(r,e){if(r=i(r,0>e?0:0|o(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)r[n]=0;return r}function T(r,e,t){("string"!=typeof t||""===t)&&(t="utf8");var n=0|d(e,t);return r=i(r,n),r.write(e,t),r}function S(e,r){if(t.isBuffer(r))return _(e,r);if(a(r))return N(e,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer?b(e,r):r.length?m(e,r):L(e,r)}function _(t,r){var e=0|o(r.length);return t=i(t,e),r.copy(t,0,0,e),t}function N(t,e){var n=0|o(e.length);t=i(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function b(t,e){var n=0|o(e.length);t=i(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function m(t,e){var n=0|o(e.length);t=i(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function L(t,e){var n,u=0;"Buffer"===e.type&&a(e.data)&&(n=e.data,u=0|o(n.length)),t=i(t,u);for(var r=0;u>r;r+=1)t[r]=255&n[r];return t}function i(r,e){t.TYPED_ARRAY_SUPPORT?r=t._augment(new Uint8Array(e)):(r.length=e,r._isBuffer=!0);var n=0!==e&&e<=t.poolSize>>>1;return n&&(r.parent=X),r}function o(t){if(t>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|t}function p(r,e){if(!(this instanceof p))return new p(r,e);var n=new t(r,e);return delete n.parent,n}function d(t,r){if("string"!=typeof t&&(t=String(t)),0===t.length)return 0;switch(r||"utf8"){case"ascii":case"binary":case"raw":return t.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t.length;case"hex":return t.length>>>1;case"utf8":case"utf-8":return l(t).length;case"base64":return g(t).length;default:return t.length}}function x(o,u,e,t){e=Number(e)||0;var n=o.length-e;t?(t=Number(t),t>n&&(t=n)):t=n;var i=u.length;if(i%2!==0)throw new Error("Invalid hex string");t>i/2&&(t=i/2);for(var r=0;t>r;r++){var s=parseInt(u.substr(2*r,2),16);if(isNaN(s))throw new Error("Invalid hex string");o[e+r]=s}return r}function F(t,e,r,n){return f(l(e,t.length-r),t,r,n)}function y(t,r,e,n){return f(C(r),t,e,n)}function k(t,r,e,n){return y(t,r,e,n)}function q(t,r,e,n){return f(g(r),t,e,n)}function z(t,e,r,n){return f(M(e,t.length-r),t,r,n)}function J(t,r,e){return 0===r&&e===t.length?c.fromByteArray(t):c.fromByteArray(t.slice(r,e))}function j(r,o,n){var i="",e="";n=Math.min(r.length,n);for(var t=o;n>t;t++)r[t]<=127?(i+=E(e)+String.fromCharCode(r[t]),e=""):e+="%"+r[t].toString(16);return i+E(e)}function $(e,i,t){var n="";t=Math.min(e.length,t);for(var r=i;t>r;r++)n+=String.fromCharCode(127&e[r]);return n}function U(e,i,t){var n="";t=Math.min(e.length,t);for(var r=i;t>r;r++)n+=String.fromCharCode(e[r]);return n}function R(n,r,t){var i=n.length;(!r||0>r)&&(r=0),(!t||0>t||t>i)&&(t=i);for(var o="",e=r;t>e;e++)o+=O(n[e]);return o}function G(n,i,o){for(var r=n.slice(i,o),e="",t=0;t<r.length;t+=2)e+=String.fromCharCode(r[t]+256*r[t+1]);return e}function e(t,r,e){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function n(r,e,n,i,o,u){if(!t.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");if(e>o||u>e)throw new RangeError("value is out of bounds");if(n+i>r.length)throw new RangeError("index out of range")}function s(e,r,n,i){0>r&&(r=65535+r+1);for(var t=0,o=Math.min(e.length-n,2);o>t;t++)e[n+t]=(r&255<<8*(i?t:1-t))>>>8*(i?t:1-t)}function h(e,r,n,i){0>r&&(r=4294967295+r+1);for(var t=0,o=Math.min(e.length-n,4);o>t;t++)e[n+t]=r>>>8*(i?t:3-t)&255}function w(e,t,r,n,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function I(r,e,t,n,i){return i||w(r,e,t,4,3.4028234663852886e38,-3.4028234663852886e38),u.write(r,e,t,n,23,4),t+4}function B(r,e,t,n,i){return i||w(r,e,t,8,1.7976931348623157e308,-1.7976931348623157e308),u.write(r,e,t,n,52,8),t+8}function Y(t){if(t=D(t).replace(P,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function O(t){return 16>t?"0"+t.toString(16):t.toString(16)}function l(o,r){r=r||1/0;for(var t,u=o.length,n=null,e=[],i=0;u>i;i++){if(t=o.charCodeAt(i),t>55295&&57344>t){if(!n){if(t>56319){(r-=3)>-1&&e.push(239,191,189);continue}if(i+1===u){(r-=3)>-1&&e.push(239,191,189);continue}n=t;continue}if(56320>t){(r-=3)>-1&&e.push(239,191,189),n=t;continue}t=n-55296<<10|t-56320|65536,n=null}else n&&((r-=3)>-1&&e.push(239,191,189),n=null);if(128>t){if((r-=1)<0)break;e.push(t)}else if(2048>t){if((r-=2)<0)break;e.push(t>>6|192,63&t|128)}else if(65536>t){if((r-=3)<0)break;e.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(2097152>t))throw new Error("Invalid code point");if((r-=4)<0)break;e.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return e}function C(r){for(var e=[],t=0;t<r.length;t++)e.push(255&r.charCodeAt(t));return e}function M(n,u){for(var t,i,o,r=[],e=0;e<n.length&&!((u-=2)<0);e++)t=n.charCodeAt(e),i=t>>8,o=t%256,r.push(o),r.push(i);return r}function g(t){return c.toByteArray(Y(t))}function f(r,e,n,i){for(var t=0;i>t&&!(t+n>=e.length||t>=r.length);t++)e[t+n]=r[t];return t}function E(t){try{return decodeURIComponent(t)}catch(r){return String.fromCharCode(65533)}}var c=require("base64-js"),u=require("ieee754"),a=require("is-array");exports.Buffer=t,exports.SlowBuffer=p,exports.INSPECT_MAX_BYTES=50,t.poolSize=8192;var v=1073741823,X={};t.TYPED_ARRAY_SUPPORT=function(){try{var r=new ArrayBuffer(0),t=new Uint8Array(r);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(e){return!1}}(),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var i=e.length,o=n.length,r=0,u=Math.min(i,o);u>r&&e[r]===n[r];)++r;return r!==u&&(i=e[r],o=n[r]),o>i?-1:i>o?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(r,n){if(!a(r))throw new TypeError("list argument must be an Array of Buffers.");if(0===r.length)return new t(0);if(1===r.length)return r[0];var e;if(void 0===n)for(n=0,e=0;e<r.length;e++)n+=r[e].length;var i=new t(n),o=0;for(e=0;e<r.length;e++){var u=r[e];u.copy(i,o),o+=u.length}return i},t.byteLength=d,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(e,r,t){var n=!1;if(r=0|r,t=void 0===t||t===1/0?this.length:0|t,e||(e="utf8"),0>r&&(r=0),t>this.length&&(t=this.length),r>=t)return"";for(;;)switch(e){case"hex":return R(this,r,t);case"utf8":case"utf-8":return j(this,r,t);case"ascii":return $(this,r,t);case"binary":return U(this,r,t);case"base64":return J(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:0===t.compare(this,r)},t.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?0:t.compare(this,r)},t.prototype.indexOf=function(e,r){function n(n,i,e){for(var t=-1,r=0;e+r<n.length;r++)if(n[e+r]===i[-1===t?0:r-t]){if(-1===t&&(t=r),r-t+1===i.length)return e+t}else t=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,r);if(t.isBuffer(e))return n(this,e,r);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,r):n(this,[e],r);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},t.prototype.write=function(n,r,t,e){if(void 0===r)e="utf8",t=this.length,r=0;else if(void 0===t&&"string"==typeof r)e=r,t=this.length,r=0;else if(isFinite(r))r=0|r,isFinite(t)?(t=0|t,void 0===e&&(e="utf8")):(e=t,t=void 0);else{var u=e;e=r,r=0|t,t=u}var i=this.length-r;if((void 0===t||t>i)&&(t=i),n.length>0&&(0>t||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");e||(e="utf8");for(var o=!1;;)switch(e){case"hex":return x(this,n,r,t);case"utf8":case"utf-8":return F(this,n,r,t);case"ascii":return y(this,n,r,t);case"binary":return k(this,n,r,t);case"base64":return q(this,n,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,n,r,t);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),r>e&&(e=r);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(r,e));else{var u=e-r;i=new t(u,void 0);for(var o=0;u>o;o++)i[o]=this[o+r]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,r,u){t=0|t,r=0|r,u||e(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(r,t,o){r=0|r,t=0|t,o||e(r,t,this.length);for(var n=this[r+--t],i=1;t>0&&(i*=256);)n+=this[r+--t]*i;return n},t.prototype.readUInt8=function(t,r){return r||e(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||e(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||e(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||e(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||e(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,u){t=0|t,r=0|r,u||e(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,u){t=0|t,r=0|r,u||e(t,r,this.length);for(var o=r,n=1,i=this[t+--o];o>0&&(n*=256);)i+=this[t+--o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*r)),i},t.prototype.readInt8=function(t,r){return r||e(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,n){n||e(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,n){n||e(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,r){return r||e(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||e(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||e(t,4,this.length),u.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||e(t,4,this.length),u.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||e(t,8,this.length),u.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||e(t,8,this.length),u.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,u){e=+e,t=0|t,r=0|r,u||n(this,e,t,r,Math.pow(2,8*r),0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,u){e=+e,t=0|t,r=0|r,u||n(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},t.prototype.writeUInt8=function(r,e,i){return r=+r,e=0|e,i||n(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=r,e+1},t.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e,this[r+1]=e>>>8):s(this,e,r,!0),r+2},t.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e):s(this,e,r,!1),r+2},t.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e):h(this,e,r,!0),r+4},t.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e):h(this,e,r,!1),r+4},t.prototype.writeIntLE=function(t,r,e,s){if(t=+t,r=0|r,!s){var i=Math.pow(2,8*e-1);n(this,t,r,e,i-1,-i)}var o=0,u=1,h=0>t?1:0;for(this[r]=255&t;++o<e&&(u*=256);)this[r+o]=(t/u>>0)-h&255;return r+e},t.prototype.writeIntBE=function(t,r,e,s){if(t=+t,r=0|r,!s){var o=Math.pow(2,8*e-1);n(this,t,r,e,o-1,-o)}var i=e-1,u=1,h=0>t?1:0;for(this[r+i]=255&t;--i>=0&&(u*=256);)this[r+i]=(t/u>>0)-h&255;return r+e},t.prototype.writeInt8=function(r,e,i){return r=+r,e=0|e,i||n(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),0>r&&(r=255+r+1),this[e]=r,e+1},t.prototype.writeInt16LE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=e,this[r+1]=e>>>8):s(this,e,r,!0),r+2},t.prototype.writeInt16BE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e):s(this,e,r,!1),r+2},t.prototype.writeInt32LE=function(e,r,i){return e=+e,r=0|r,i||n(this,e,r,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[r]=e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):h(this,e,r,!0),r+4},t.prototype.writeInt32BE=function(r,e,i){return r=+r,e=0|e,i||n(this,r,e,4,2147483647,-2147483648),0>r&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r):h(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return I(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return I(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return B(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return B(this,t,r,!1,e)},t.prototype.copy=function(i,n,r,e){if(r||(r=0),e||0===e||(e=this.length),n>=i.length&&(n=i.length),n||(n=0),e>0&&r>e&&(e=r),e===r)return 0;if(0===i.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),i.length-n<e-r&&(e=i.length-n+r);var o=e-r;if(1e3>o||!t.TYPED_ARRAY_SUPPORT)for(var u=0;o>u;u++)i[u+n]=this[u+r];else i._set(this.subarray(r,r+o),n);return o},t.prototype.fill=function(n,r,e){if(n||(n=0),r||(r=0),e||(e=this.length),r>e)throw new RangeError("end < start");if(e!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>e||e>this.length)throw new RangeError("end out of bounds");var t;if("number"==typeof n)for(t=r;e>t;t++)this[t]=n;else{var i=l(n.toString()),o=i.length;for(t=r;e>t;t++)this[t]=i[t%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),r=0,n=e.length;n>r;r+=1)e[r]=this[r];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var r=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=r.get,e.set=r.set,e.write=r.write,e.toString=r.toString,e.toLocaleString=r.toString,e.toJSON=r.toJSON,e.equals=r.equals,e.compare=r.compare,e.indexOf=r.indexOf,e.copy=r.copy,e.slice=r.slice,e.readUIntLE=r.readUIntLE,e.readUIntBE=r.readUIntBE,e.readUInt8=r.readUInt8,e.readUInt16LE=r.readUInt16LE,e.readUInt16BE=r.readUInt16BE,e.readUInt32LE=r.readUInt32LE,e.readUInt32BE=r.readUInt32BE,e.readIntLE=r.readIntLE,e.readIntBE=r.readIntBE,e.readInt8=r.readInt8,e.readInt16LE=r.readInt16LE,e.readInt16BE=r.readInt16BE,e.readInt32LE=r.readInt32LE,e.readInt32BE=r.readInt32BE,e.readFloatLE=r.readFloatLE,e.readFloatBE=r.readFloatBE,e.readDoubleLE=r.readDoubleLE,e.readDoubleBE=r.readDoubleBE,e.writeUInt8=r.writeUInt8,e.writeUIntLE=r.writeUIntLE,e.writeUIntBE=r.writeUIntBE,e.writeUInt16LE=r.writeUInt16LE,e.writeUInt16BE=r.writeUInt16BE,e.writeUInt32LE=r.writeUInt32LE,e.writeUInt32BE=r.writeUInt32BE,e.writeIntLE=r.writeIntLE,e.writeIntBE=r.writeIntBE,e.writeInt8=r.writeInt8,e.writeInt16LE=r.writeInt16LE,e.writeInt16BE=r.writeInt16BE,e.writeInt32LE=r.writeInt32LE,e.writeInt32BE=r.writeInt32BE,e.writeFloatLE=r.writeFloatLE,e.writeFloatBE=r.writeFloatBE,e.writeDoubleLE=r.writeDoubleLE,e.writeDoubleBE=r.writeDoubleBE,e.fill=r.fill,e.inspect=r.inspect,e.toArrayBuffer=r.toArrayBuffer,e};var P=/[^+\/0-9A-z\-]/g;
},{"base64-js":2,"ieee754":3,"is-array":4}],2:[function(require,module,exports){
var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(n){"use strict";function r(r){var t=r.charCodeAt(0);return t===c||t===f?62:t===d||t===o?63:e>t?-1:e+10>t?t-e+26+26:h+26>t?t-h:a+26>t?t-a+26:void 0}function A(t){function a(t){c[f++]=t}var e,o,A,n,h,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.length;h="="===t.charAt(i-2)?2:"="===t.charAt(i-1)?1:0,c=new u(3*t.length/4-h),A=h>0?t.length-4:t.length;var f=0;for(e=0,o=0;A>e;e+=4,o+=3)n=r(t.charAt(e))<<18|r(t.charAt(e+1))<<12|r(t.charAt(e+2))<<6|r(t.charAt(e+3)),a((16711680&n)>>16),a((65280&n)>>8),a(255&n);return 2===h?(n=r(t.charAt(e))<<2|r(t.charAt(e+1))>>4,a(255&n)):1===h&&(n=r(t.charAt(e))<<10|r(t.charAt(e+1))<<4|r(t.charAt(e+2))>>2,a(n>>8&255),a(255&n)),c}function i(r){function e(r){return t.charAt(r)}function A(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var h,n,c,o=r.length%3,a="";for(h=0,c=r.length-o;c>h;h+=3)n=(r[h]<<16)+(r[h+1]<<8)+r[h+2],a+=A(n);switch(o){case 1:n=r[r.length-1],a+=e(n>>2),a+=e(n<<4&63),a+="==";break;case 2:n=(r[r.length-2]<<8)+r[r.length-1],a+=e(n>>10),a+=e(n>>4&63),a+=e(n<<2&63),a+="="}return a}var u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="+".charCodeAt(0),d="/".charCodeAt(0),e="0".charCodeAt(0),a="a".charCodeAt(0),h="A".charCodeAt(0),f="-".charCodeAt(0),o="_".charCodeAt(0);n.toByteArray=A,n.fromByteArray=i}("undefined"==typeof exports?this.base64js={}:exports);
},{}],3:[function(require,module,exports){
exports.read=function(f,w,n,M,N){var a,r,s=8*N-M-1,i=(1<<s)-1,e=i>>1,o=-7,t=n?N-1:0,p=n?-1:1,h=f[w+t];for(t+=p,a=h&(1<<-o)-1,h>>=-o,o+=s;o>0;a=256*a+f[w+t],t+=p,o-=8);for(r=a&(1<<-o)-1,a>>=-o,o+=M;o>0;r=256*r+f[w+t],t+=p,o-=8);if(0===a)a=1-e;else{if(a===i)return r?NaN:(h?-1:1)*(1/0);r+=Math.pow(2,M),a-=e}return(h?-1:1)*r*Math.pow(2,a-M)},exports.write=function(i,o,N,u,t,s){var a,r,h,w=8*s-t-1,f=(1<<w)-1,M=f>>1,n=23===t?Math.pow(2,-24)-Math.pow(2,-77):0,p=u?0:s-1,e=u?1:-1,l=0>o||0===o&&0>1/o?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(r=isNaN(o)?1:0,a=f):(a=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-a))<1&&(a--,h*=2),o+=a+M>=1?n/h:n*Math.pow(2,1-M),o*h>=2&&(a++,h/=2),a+M>=f?(r=0,a=f):a+M>=1?(r=(o*h-1)*Math.pow(2,t),a+=M):(r=o*Math.pow(2,M-1)*Math.pow(2,t),a=0));t>=8;i[N+p]=255&r,p+=e,r/=256,t-=8);for(a=a<<t|r,w+=t;w>0;i[N+p]=255&a,p+=e,a/=256,w-=8);i[N+p-e]|=128*l};
},{}],4:[function(require,module,exports){
var r=Array.isArray,t=Object.prototype.toString;module.exports=r||function(r){return!!r&&"[object Array]"==t.call(r)};
},{}],5:[function(require,module,exports){
(function (global){
!function(){"use strict";function e(){}var t;t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){var t=this;Object.keys(t).forEach(function(e){t[e]=void 0,delete t[e]})},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),global.localStorage?module.exports=localStorage:module.exports=new e}();
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
"use strict";exports.extract=function(e){return e.split("?")[1]||""},exports.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(n,o){var t=o.replace(/\+/g," ").split("="),e=t[0],r=t[1];return e=decodeURIComponent(e),r=void 0===r?null:decodeURIComponent(r),n.hasOwnProperty(e)?Array.isArray(n[e])?n[e].push(r):n[e]=[n[e],r]:n[e]=r,n},{}):{})},exports.stringify=function(e){return e?Object.keys(e).sort().map(function(n){var r=e[n];return Array.isArray(r)?r.sort().map(function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&"):""};
},{}],7:[function(require,module,exports){
!function(n,e,t){"undefined"!=typeof module?module.exports=t(n,e):"function"==typeof define&&"object"==typeof define.amd?define(t):e[n]=t(n,e)}("radio",this,function(t,e){"use strict";function n(e){return n.$.channel(e),n.$}return n.$={version:"0.2",channelName:"",channels:[],broadcast:function(){var t,n,h,i,s=this.channels[this.channelName],r=s.length;for(t=0;r>t;t++)n=s[t],"object"==typeof n&&n.length&&(h=n[0],i=n[1]||e),h.apply(i,arguments);return this},channel:function(n){var e=this.channels;return e[n]||(e[n]=[]),this.channelName=n,this},subscribe:function(){var n,e,h=arguments,i=this.channels[this.channelName],s=h.length,t=[];for(n=0;s>n;n++)t=h[n],e="function"==typeof t?[t]:t,"object"==typeof e&&e.length&&i.push(e);return this},unsubscribe:function(){var n,e,h,s=arguments,t=this.channels[this.channelName],a=s.length,r=t.length,i=0;for(n=0;a>n;n++)for(i=0,r=t.length,e=0;r>e;e++)h=e-i,t[h][0]===s[n]&&(t.splice(h,1),i++);return this}},n});
},{}],8:[function(require,module,exports){
"use strict";require("./polyfills.js"),require("localStorage");var n=require("radio"),t=require("./utils"),i=require("./button"),o=require("./provider"),r=require("./token"),a=require("./session"),e=t.log;!function(s,u){if(e("timeEnd","_loaded"),e("time","execution"),e("time","initFrame"),e("time","renderFrame"),e("time","rpFrame"),e("time","opFrame"),s._defaults={_storage:{state:"authentiq.request_state",nonce:"authentiq.request_nonce",id_token:"authentiq.id_token",session_state:"authentiq.session_state"},direct_events:!1,provider:{base_url:"https://test.connect.authentiq.io",authorize_path:"/authorize",end_session_path:"/authorize/logout",check_session_iframe:"/authorize/iframe",client_id:""},button:{response_type:"id_token",response_mode:"fragment",redirect_uri:"",scope:"",state:"",nonce:"",display:"modal",prompt:"",ui_locales:"",display_errors:"",sign_in_text:"Sign in",sign_out_text:"Sign out",sign_out_claim:""}},"defaults"in s&&("undefined"!=typeof s.defaults.direct_events&&(s._defaults.direct_events=!0),s._defaults._storage=Object.assign({},s._defaults._storage,s.defaults._storage),s._defaults.provider=Object.assign({},s._defaults.provider,s.defaults.provider),s._defaults.button=Object.assign({},s._defaults.button,s.defaults.button),delete s.defaults),s.Event=function(e){return n("aq:"+e)},s.subscribe=function(e,t){s.Event(e).subscribe(t)},s.Token=new r,s.Provider=new o,window.opener){window.opener.authentiq&&window.opener.authentiq.handlePopupCallback?window.opener.authentiq.handlePopupCallback(t.getEventHistory()):e("Parent has no authentiq.handlePopupCallback() function to call.");try{window.close()}catch(d){}return void t.on(window,"load",function(){window.close()})}return window.parent&&window.parent.authentiq&&window.parent.authentiq.handleModalCallback?void window.parent.authentiq.handleModalCallback(t.getEventHistory()):(s.popup_window=u,s.handlePopupCallback=u,s.handleModalCallback=u,s.Button=i,s.Session=new a,e("timeEnd","_warmup"),e("Logged in: "+s.Provider.isAuthenticated()),t.on(document,"DOMContentLoaded",function(){var r,a,n=document.querySelector(".authentiq-snippet"),l=document.querySelectorAll(".authentiq-button");if(n){for(r in s._defaults.provider)a="data-"+r.split("_").join("-"),n.hasAttribute(a)&&(s._defaults.provider[r]=n.getAttribute(a));n.hasAttribute("data-direct-events")&&(s._defaults.direct_events=!0)}"/"===s._defaults.provider.base_url.substr(-1)&&(s._defaults.provider.base_url=s._defaults.provider.base_url.slice(0,-1));var o=["authorize_path","end_session_path","check_session_iframe"];for(var u in o)"/"!==s._defaults.provider[o[u]][0]&&(s._defaults.provider[o[u]]="/"+s._defaults.provider[o[u]]);n&&/(true|yes|1)/i.test((n.getAttribute("data-button")||"").toLowerCase())&&new i(n);for(var d=0,_=l.length;_>d;d++)new i(l[d]);t.fireEventsFromHistory(),s.Provider.profile(),e("timeEnd","execution"),e("timeEnd","_execution")}),void(module.exports=s))}(window.authentiq=window.authentiq||{});
},{"./button":9,"./polyfills.js":10,"./provider":11,"./session":12,"./token":13,"./utils":14,"localStorage":5,"radio":7}],9:[function(require,module,exports){
"use strict";function r(i,v){var n,r,c,x=v||{};if("undefined"===i||!i.hasAttribute(s.instance_attribute)){if(this.id=Math.floor(9e3*Math.random())+1e3,t=window.authentiq,l=t._defaults.button,a=t._defaults._storage,p=t._defaults.provider,o=t.Provider,!d){d=!0;var h=document.createElement("div");h.innerHTML=_,h.style.display="none",document.body.appendChild(h);var g=document.createElement("style");g.className="authentiq-svg",g.innerHTML=w,document.getElementsByTagName("head")[0].appendChild(g)}b.apply(this),this.options=Object.assign({},l,x);for(n in this.options)r="data-"+n.split("_").join("-"),i.hasAttribute(r)&&(this.options[n]=i.getAttribute(r));this.options.sign_in_text===l.sign_in_text&&"script"!==i.tagName.toLowerCase()&&(this.options.sign_in_text=i.innerHTML.trim());var m=["state","nonce"];for(c in m)""===this.options[m[c]]&&(this.options[m[c]]=e.generateNonce(8));""!==this.options.scope&&-1===this.options.scope.indexOf("openid")&&(this.options.scope+=" openid"),""===this.options.redirect_uri&&(this.options.response_mode="fragment",this.options.redirect_uri=window.location.href.split("#")[0]),"script"===i.tagName.toLowerCase()?(this.scriptTag=i,this.renderButton()):this.el=i,this.el.setAttribute(s.instance_attribute,this.id),o.isAuthenticated()?u.apply(this):f.apply(this)}}var g=require("query-string"),e=require("./utils"),t,l,a,p,o,x=e.log,n,i,s={instance_attribute:"data-authentiq-button",required_opts:["response_type","response_mode","client_id","redirect_uri","state"],optional_opts:["scope","nonce","display","prompt","ui_locales","display_errors"]},w=".authentiq-button {background-color:#895fc0;color:#fff;display:inline-block;padding:8px 16px;border:1px solid #895fc0;overflow:hidden;position:relative;padding-left:50px;}.authentiq-button svg {position:absolute;top:-2px;left:-6px;width:45px;height:45px;transform-origin:50% 50%;overflow:visible;}.authentiq-modal {position:fixed;left:0;top:0;width:100%;height:100%;z-index:9998;background-color:rgba(0,0,0,.3);transtion:all .8s ease-in-out;}.authentiq-session-frame {position:fixed;left:50%;top:50%;width:450px;height:500px;margin-top:-225px;margin-left:-250px;z-index:9999;}",d=!1,_='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="29.5px" height="32px"><path id="aq-logo-bg" fill="#FFFFFF" d="M29.5,23c0,0.7-0.4,1.4-0.8,1.7l-13.2,7.1c-0.4,0.3-1.2,0.3-1.6,0l-13-7.1C0.4,24.4,0,23.7,0,23V9.1 c0-0.7,0.4-1.4,0.8-1.7l13-7.2c0.4-0.3,1.2-0.3,1.6,0l13.2,7.2c0.5,0.3,0.8,1,0.8,1.7L29.5,23L29.5,23z"/> <path id="aq-logo-a" fill="#F05023" d="M23.1,19.6c-0.2,0-0.4,0.1-0.6,0.1c-0.4,0-0.8-0.1-1-0.3c-0.3-0.2-0.4-0.5-0.4-0.9V9.7h-4v1.5 c-0.5-0.6-1.1-1.1-1.8-1.4c-0.7-0.3-1.5-0.4-2.3-0.4c-1,0-1.8,0.2-2.6,0.6c-0.8,0.4-1.4,0.9-2,1.5c-0.6,0.6-1,1.4-1.3,2.2 c-0.3,0.8-0.4,1.7-0.4,2.7c0,1,0.1,1.8,0.4,2.7c0.3,0.8,0.7,1.6,1.3,2.2c0.6,0.6,1.2,1.1,2,1.5c0.8,0.4,1.7,0.6,2.6,0.6 c0.9,0,1.8-0.2,2.6-0.6c0.8-0.4,1.4-1,1.9-1.8c0.3,0.7,0.8,1.3,1.4,1.7c0.6,0.4,1.3,0.7,2,0.7c0.5,0,1.2-0.1,1.7-0.2 c0.2-0.1,0.3-0.2,0.5-0.3L23.1,19.6L23.1,19.6z M10.4,16.3c0-2,1.5-3.7,3.3-3.7c1.8,0,3.3,1.6,3.3,3.7c0,2-1.5,3.7-3.3,3.6 C11.9,20,10.4,18.4,10.4,16.3L10.4,16.3z"/> </svg>',m='<svg viewBox="0 0 29.5 32"><use class="authentiq-bg" xlink:href="#aq-logo-bg"></use><use xlink:href="#aq-logo-a"></use></svg>',h=function(t){this.el.innerHTML=m+"<span>"+t+"</span>"},u=function(t){t=t||{},h.call(this,t[this.options.sign_out_claim]?this.options.sign_out_text+" "+t[this.options.sign_out_claim]:this.options.sign_out_text),e.off(this.el,"click",this.authorize,this),e.off(this.el,"click",o.concludeSession,this),e.on(this.el,"click",o.concludeSession,this)},f=function(){h.call(this,this.options.sign_in_text),e.off(this.el,"click",this.authorize,this),e.off(this.el,"click",o.concludeSession,this),e.on(this.el,"click",this.authorize,this)},b=function(){t.Event("profile").subscribe([u,this]),t.Event("concluded").subscribe([f,this])},v=function(e,i){var t="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,o="undefined"!=typeof window.screenY?window.screenY:window.screenTop,n="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,s="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,a=0>t?window.screen.width+t:t,r=parseInt(a+(n-e)/2,10),p=parseInt(o+(s-i)/2.5,10);return"width="+e+",height="+i+",left="+r+",top="+p+","},c=function(){i.parentNode.removeChild(i),i=void 0,n=void 0};r.prototype.authorizeURL=function(){var t,i={},e=s.required_opts.concat(s.optional_opts);for(t in e)s.optional_opts.indexOf(e[t])>-1&&""===this.options[e[t]]||("display"!==e[t]||"modal"!==this.options[e[t]]?i[e[t]]=this.options[e[t]]||p[e[t]]:i[e[t]]="popup");return p.base_url+p.authorize_path+"?"+g.stringify(i)},r.prototype.renderButton=function(){this.el=document.createElement("button"),this.el.className="authentiq-button",this.scriptTag.parentNode.insertBefore(this.el,this.scriptTag)},r.prototype.authorize=function(s){"undefined"!=typeof s&&s.preventDefault(),localStorage.setItem(a.state,this.options.state,a.state.options),localStorage.setItem(a.nonce,this.options.nonce,a.nonce.options),"page"===this.options.display?window.location.href=this.authorizeURL():"popup"===this.options.display?"undefined"==typeof t.popup_window||t.popup_window.closed?(t.handlePopupCallback=function(i){t.handlePopupCallback=void 0,t.popup_window=void 0,e.setEventHistory(i),e.fireEventsFromHistory(),o.profile()},t.popup_window=window.open(this.authorizeURL(),"Authentiq Connect",v(450,500)+"scrollbars=1,location=0,toolbar=0,status=0,menubar=0,personalbar=0,resizable=0,dependent=1,dialog=0,close=1,modal=1")):t.popup_window.focus():(i=document.createElement("div"),i.className="authentiq-modal",i.onclick=function(){c()},n=document.createElement("iframe"),n.setAttribute("frameBorder","0"),n.className="authentiq-session-frame",n.src=this.authorizeURL(),i.appendChild(n),t.handleModalCallback=function(i){c(),t.handleModalCallback=void 0,e.setEventHistory(i),e.fireEventsFromHistory(),o.profile()},document.body.appendChild(i))},module.exports=r;
},{"./utils":14,"query-string":6}],10:[function(require,module,exports){
Array.prototype.indexOf||(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),"object"!=typeof window||"object"!=typeof window.location||window.location.assign||(window.location.assign=function(t){window.location=t}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=[].slice,r=n.call(arguments,1),i=this,o=function(){return i.apply(this instanceof t?this:e||window,r.concat(n.call(arguments)))};return t.prototype=this.prototype,o.prototype=new t,o}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(n){"use strict";if(void 0===n||null===n)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var t=arguments[o];if(void 0!==t&&null!==t){t=Object(t);for(var c=Object.keys(Object(t)),e=0,s=c.length;s>e;e++){var r=c[e],a=Object.getOwnPropertyDescriptor(t,r);void 0!==a&&a.enumerable&&(i[r]=t[r])}}}return i}});
},{}],11:[function(require,module,exports){
"use strict";function n(e){t=window.authentiq,i=t._defaults._storage,r=t.Token,d=t.Event,u.call(this)}var f=require("query-string"),e=require("./utils"),t,r,d,i,y=e.log,o,a,u=function(){var o,n,d,t;window.location.hash&&(o=f.parse(location.hash)||{},"error"in o?e.addEventInHistory("error",{error:o.error,error_description:o.error_description||null}):"state"in o&&("id_token"in o||"access_token"in o||"code"in o)&&(n=localStorage.getItem(i.state),o.state===n?(e.addEventInHistory("authorized",o),"id_token"in o&&(d=localStorage.getItem(i.nonce),t=l(o.id_token),"undefined"!==t&&(r.setToken(o),e.addEventInHistory("authorized:id_token",o.id_token),("undefined"==typeof t.nonce||t.nonce!=d)&&e.addEventInHistory("error",{error:"client_error",error_description:"Invalid nonce in ID Token."}))),"token_type"in o&&"access_token"in o&&e.addEventInHistory("authorized:access_token",{token_type:o.token_type,access_token:o.access_token,expires_in:parseInt(o.expires_in,0)||0}),"code"in o&&e.addEventInHistory("authorized:code",o.code)):e.addEventInHistory("error",{error:"client_error",error_description:"Invalid state in authorization response."}),localStorage.removeItem(i.state),localStorage.removeItem(i.nonce)),p())},p=function(){var o,t,e=window.location;"pushState"in history?history.replaceState("",document.title,e.pathname+e.search):(o=document.body.scrollTop,t=document.body.scrollLeft,e.hash="",document.body.scrollTop=o,document.body.scrollLeft=t)},l=function(o){var t=o?e.decodeJWT(o):void 0;return t?t.payload:void 0},c=function(){if("undefined"==typeof o&&(o=l(r.getIDToken()),"undefined"!=typeof o)){a=o.exp||void 0;var e=["iss","sub","aud","exp","iat","nbf","auth_time","nonce","acr","amr","azp","jti","at_hash","idp"];e.forEach(function(e){delete o[e]})}if("undefined"!=typeof o){var t=Math.floor(+new Date/1e3);if("undefined"==typeof a||t>=a)return this.concludeSession(),void s()}return o},s=function(){"undefined"!=typeof t.Session&&t.Session.revokeAccess.bind(t.Session)};n.prototype.isAuthenticated=function(){return!!c.apply(this)&&!!r.getSessionState()},n.prototype.profile=function(){var e=c.apply(this);return"undefined"!=typeof e&&d("profile").broadcast(e),e},n.prototype.concludeSession=function(e){"undefined"!=typeof e&&(e.preventDefault(),s()),r.destroy(),o=void 0,d("concluded").broadcast()},n.prototype.checkToken=function(e){u.call(this)},module.exports=n;
},{"./utils":14,"query-string":6}],12:[function(require,module,exports){
"use strict";function i(){t=window.authentiq,this.init(),t.Event("concluded").subscribe([this.destroy,this])}var s=require("./utils"),t,n,d,e=s.log,o,a=["concluded"],r;i.prototype.init=function(){t.Provider.isAuthenticated()&&t.Token.getSessionState()?(t.Event("profile").unsubscribe(this.init),n=t._defaults.provider,d=t.Token,o=n.base_url,r=this.renderOPFrame().contentWindow,s.on(window,"message",this.receiveMessage,this)):t.Event("profile").unsubscribe(this.init).subscribe([this.init,this])},i.prototype.destroy=function(){s.off(window,"message",this.receiveMessage,this),this.init()},i.prototype.renderOPFrame=function(){var t,i,o=this.postMessage;if(e("timeEnd","initFrame"),e("timeEnd","_initFrame"),i=document.querySelector(".opframe"))return i.src=n.base_url+n.check_session_iframe,i;t=document.createElement("iframe"),t.setAttribute("frameBorder","0"),t.style.display="none",t.onload=function(){r=this.contentWindow,o()},t.className="opframe",t.src=n.base_url+n.check_session_iframe;try{document.body.appendChild(t)}catch(d){s.on(window,"DOMContentLoaded",function(){document.body.appendChild(t)})}return e("timeEnd","renderFrame"),e("timeEnd","_renderFrame"),t},i.prototype.revokeAccess=function(){this.postMessage("concluded")},i.prototype.postMessage=function(t){e("timeEnd","rpFrame");var i=n.client_id+" "+d.getSessionState();"undefined"!=typeof t&&a.indexOf(t)>-1&&(i+=" "+t),e("warn","RP: Sending message to "+o+": "+i);try{r.postMessage(i,o)}catch(s){e("warn","RP: postMessage failed to be send")}},i.prototype.receiveMessage=function(i){var n;(i.origin===o||i.source!=r)&&(e("timeEnd","opFrame"),e("timeEnd","_iFrame"),e("warn","RP: Received msg from "+i.origin+": "+i.data),n=i.data,"changed"===n?e("warn","RP: Received changed state"):"concluded"===n&&(e("warn","RP: Received logout state"),t.Provider.concludeSession()))},module.exports=i;
},{"./utils":14}],13:[function(require,module,exports){
"use strict";function e(){o=window.authentiq,t=o._defaults._storage}var s=require("./utils"),o,t,n=s.log;e.prototype.setToken=function(e){localStorage.setItem(t.id_token,e.id_token),localStorage.setItem(t.session_state,e.session_state)},e.prototype.getIDToken=function(){return localStorage.getItem(t.id_token)||void 0},e.prototype.getSessionState=function(){return localStorage.getItem(t.session_state)||void 0},e.prototype.destroy=function(){localStorage.removeItem(t.id_token),localStorage.removeItem(t.session_state)},module.exports=e;
},{"./utils":14}],14:[function(require,module,exports){
(function (Buffer){
function o(e){return new Buffer(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/,"")}function r(e){return e+=Array(5-e.length%4).join("="),e=e.replace(/\-/g,"+").replace(/_/g,"/"),new Buffer(e,"base64").toString()}var n=require("radio"),a=["log","info","warn","debug","error","dir","table","trace","group","groupCollapsed","groupEnd","time","timeEnd"],i=["time","timeEnd"],e={},t=[];module.exports={log:function(){if("console"in window){var e,t=[];Array.prototype.push.apply(t,arguments),e=a.indexOf(arguments[0])>-1?t.shift():"log",-1===i.indexOf(e)&&console[e].apply(console,t)}},on:function(n,t,o,i){var r,a=i?function(e){o.apply(i,[e])}:o;r="getAttribute"in n?n.getAttribute("data-authentiq-button"):n,"undefined"!=typeof r&&("undefined"==typeof e[t]&&(e[t]={}),"undefined"==typeof e[t][r]&&(e[t][r]={}),e[t][r][o]=a),document.addEventListener?n.addEventListener(t,a,!1):document.attachEvent&&n.attachEvent("on"+t,a)},off:function(n,t,o,i){var r,a;r="getAttribute"in n?n.getAttribute("data-authentiq-button"):n,"undefined"!=typeof e[t]&&"undefined"!=typeof e[t][r]&&"undefined"!=typeof e[t][r][o]&&(a=e[t][r][o],document.removeEventListener?n.removeEventListener(t,a,!1):document.detachEvent&&n.detachEvent("on"+t,a),delete e[t][r][o])},addEventInHistory:function(e,r){if(e="aq:"+e,authentiq._defaults.direct_events)return void n(e).broadcast(r);var o={name:e,data:r};t.push(o)},setEventHistory:function(e){t=e},getEventHistory:function(){return t},fireEventsFromHistory:function(){if(t.length>0)for(var e in t)n(t[e].name).broadcast(t[e].data);t=[]},generateNonce:function(t){var e=new Uint8Array(t||16);window.crypto.getRandomValues(e);var n=Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("");return o(n)},decodeJWT:function(t){var e=t?t.split("."):[];if(3!==e.length)return n("aq:error").broadcast({error:"client_error",error_description:"Failed to decode ID Token."}),void this.log("Not enough or too many segments");var o=e[0],a=e[1],i=e[2],d=JSON.parse(r(o)),u=JSON.parse(r(a));return{header:d,payload:u,signature:i}}};
}).call(this,require("buffer").Buffer)

},{"buffer":1,"radio":7}]},{},[8])


//# sourceMappingURL=/src/authentiq.js.map